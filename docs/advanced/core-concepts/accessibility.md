# åŠ¨ç”»æ— éšœç¢(Accessibility)è®¾è®¡

åˆ›å»ºä»¤äººæ„‰æ‚¦çš„åŠ¨ç”»æ•ˆæœä¸ä»…ä»…æ˜¯ä¸ºäº†è§†è§‰å¸å¼•åŠ›ï¼Œè¿˜åº”è¯¥è€ƒè™‘æ‰€æœ‰ç”¨æˆ·çš„å¯è®¿é—®æ€§ã€‚æœ¬ç« å°†æ¢è®¨å¦‚ä½•åœ¨ä½¿ç”¨GSAPåˆ›å»ºåŠ¨ç”»æ—¶å®æ–½æ— éšœç¢è®¾è®¡åŸåˆ™ï¼Œç¡®ä¿ä½ çš„åŠ¨ç”»å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯åŒ…å®¹å’Œå‹å¥½çš„ã€‚

:::tip æ ¸å¿ƒæ¦‚å¿µ
åŠ¨ç”»æ— éšœç¢è®¾è®¡æ˜¯æŒ‡**åˆ›å»ºå¯¹æ‰€æœ‰ç”¨æˆ·éƒ½å‹å¥½çš„åŠ¨ç”»ä½“éªŒ**ï¼ŒåŒ…æ‹¬é‚£äº›æœ‰è§†è§‰ã€è®¤çŸ¥æˆ–è¿åŠ¨éšœç¢çš„ç”¨æˆ·ã€‚æœ€å…³é”®çš„åŸåˆ™æ˜¯**æä¾›é€‰æ‹©å’Œæ›¿ä»£æ–¹æ¡ˆ**ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶æ‰€æœ‰ç”¨æˆ·ä½“éªŒç›¸åŒçš„åŠ¨ç”»æ•ˆæœã€‚
:::

## æ— éšœç¢åŠ¨ç”»ä½“éªŒå¯è§†åŒ–

<div class="concept-visual">
  <div class="a11y-comparison">
    <div class="experience-row">
      <div class="experience-title">æ ‡å‡†ç”¨æˆ·ä½“éªŒ</div>
      <div class="experience-demo standard">
        <div class="demo-element bouncing-element">å¼¹è·³å…ƒç´ </div>
        <div class="demo-element spinning-element">æ—‹è½¬å…ƒç´ </div>
        <div class="demo-element fading-elements">
          <span>æ·¡å…¥</span><span>æ·¡å‡º</span><span>å…ƒç´ </span>
        </div>
      </div>
      <div class="experience-desc">
        å®Œæ•´åŠ¨ç”»æ•ˆæœï¼ŒåŒ…æ‹¬å¼¹è·³ã€æ—‹è½¬ã€äº¤é”™å’Œå¤æ‚çš„ç¼“åŠ¨å‡½æ•°
      </div>
    </div>
    <div class="experience-row">
      <div class="experience-title">æ— éšœç¢ç”¨æˆ·ä½“éªŒ</div>
      <div class="experience-demo reduced">
        <div class="demo-element reduced-element">ç®€åŒ–å…ƒç´ </div>
        <div class="demo-element static-element">é™æ€å…ƒç´ </div>
        <div class="demo-element simplified-elements">
          <span>ç®€åŒ–</span><span>åŠ¨ç”»</span><span>å…ƒç´ </span>
        </div>
      </div>
      <div class="experience-desc">
        å‡å°‘æˆ–ç§»é™¤åŠ¨ç”»æ•ˆæœï¼Œç®€åŒ–äº¤äº’ï¼Œé¿å…å‰åº­åŠŸèƒ½åˆºæ¿€
      </div>
    </div>
  </div>
  <div class="visual-caption">
    åŠ¨ç”»æ— éšœç¢è®¾è®¡æä¾›ä¸¤ç§ä½“éªŒæ¨¡å¼ï¼šæ ‡å‡†æ¨¡å¼æ»¡è¶³å¤§å¤šæ•°ç”¨æˆ·éœ€æ±‚ï¼Œè€Œç®€åŒ–æ¨¡å¼ç¡®ä¿æœ‰ç‰¹æ®Šéœ€æ±‚çš„ç”¨æˆ·ä¹Ÿèƒ½é¡ºç•…åœ°ä½¿ç”¨ç•Œé¢
  </div>
</div>

## åŠ¨ç”»æ— éšœç¢çš„é‡è¦æ€§

<div class="benefits-grid">
  <div class="benefit-card">
    <div class="benefit-icon">ğŸŒ</div>
    <div class="benefit-title">åŒ…å®¹æ€§</div>
    <div class="benefit-desc">ç¡®ä¿æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½è®¿é—®å’Œä½¿ç”¨ä½ çš„å†…å®¹ï¼Œæ— è®ºå…¶èƒ½åŠ›å¦‚ä½•ï¼Œæ‰©å¤§å—ä¼—èŒƒå›´</div>
  </div>
  <div class="benefit-card">
    <div class="benefit-icon">âš–ï¸</div>
    <div class="benefit-title">æ³•è§„éµä»</div>
    <div class="benefit-desc">è®¸å¤šå›½å®¶å’Œåœ°åŒºæœ‰æ˜ç¡®çš„æ— éšœç¢æ³•è§„è¦æ±‚ï¼ˆå¦‚ç¾å›½çš„ADAã€æ¬§ç›Ÿçš„EN 301 549ç­‰ï¼‰</div>
  </div>
  <div class="benefit-card">
    <div class="benefit-icon">âœ¨</div>
    <div class="benefit-title">ç”¨æˆ·ä½“éªŒæå‡</div>
    <div class="benefit-desc">æ— éšœç¢è®¾è®¡çš„åŸåˆ™å¾€å¾€ä¹Ÿèƒ½æå‡æ‰€æœ‰ç”¨æˆ·çš„æ•´ä½“ä½“éªŒï¼Œåˆ›é€ æ›´æ¸…æ™°çš„ç•Œé¢</div>
  </div>
  <div class="benefit-card">
    <div class="benefit-icon">ğŸ“ˆ</div>
    <div class="benefit-title">å¸‚åœºæ‰©å±•</div>
    <div class="benefit-desc">æ”¯æŒæ›´å¹¿æ³›çš„ç”¨æˆ·ç¾¤ä½“ï¼ŒåŒ…æ‹¬é‚£äº›æœ‰ä¸´æ—¶æˆ–æ°¸ä¹…æ€§éšœç¢çš„ç”¨æˆ·ï¼Œæé«˜ç”¨æˆ·æ»¡æ„åº¦</div>
  </div>
</div>

## å¸¸è§åŠ¨ç”»æ— éšœç¢é—®é¢˜

åœ¨å®æ–½åŠ¨ç”»æ—¶ï¼Œä»¥ä¸‹é—®é¢˜å¯èƒ½ä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼š

<div class="issues-overview">
  <div class="issue-item">
    <div class="issue-icon">ğŸ¤¢</div>
    <div class="issue-content">
      <h4>å‰åº­åŠŸèƒ½éšœç¢</h4>
      <p>è¿‡å¤šæˆ–è¿‡äºå‰§çƒˆçš„åŠ¨ç”»å¯èƒ½å¯¼è‡´çœ©æ™•ã€æ¶å¿ƒæˆ–ä¸é€‚ï¼Œå°¤å…¶æ˜¯è§†å·®æ»šåŠ¨å’Œå¤§å¹…åº¦ç§»åŠ¨æ•ˆæœ</p>
    </div>
  </div>
  <div class="issue-item">
    <div class="issue-icon">âš¡</div>
    <div class="issue-content">
      <h4>å…‰æ•æ€§ç™«ç—«</h4>
      <p>é—ªçƒæˆ–é«˜å¯¹æ¯”åº¦çš„å¿«é€Ÿå˜åŒ–å¯èƒ½è§¦å‘ç™«ç—«å‘ä½œï¼Œæ¯ç§’3æ¬¡ä»¥ä¸Šçš„é—ªçƒå°¤å…¶å±é™©</p>
    </div>
  </div>
  <div class="issue-item">
    <div class="issue-icon">ğŸ§ </div>
    <div class="issue-content">
      <h4>æ³¨æ„åŠ›éšœç¢</h4>
      <p>è¿‡åº¦åŠ¨ç”»å¯èƒ½åˆ†æ•£æœ‰è®¤çŸ¥å¤„ç†éšœç¢ç”¨æˆ·çš„æ³¨æ„åŠ›ï¼Œè®©ç”¨æˆ·éš¾ä»¥é›†ä¸­ç²¾åŠ›å¤„ç†æ ¸å¿ƒå†…å®¹</p>
    </div>
  </div>
  <div class="issue-item">
    <div class="issue-icon">ğŸ”Š</div>
    <div class="issue-content">
      <h4>å±å¹•é˜…è¯»å™¨å…¼å®¹æ€§</h4>
      <p>çº¯è§†è§‰åŠ¨ç”»å¯èƒ½å¯¹ä½¿ç”¨å±å¹•é˜…è¯»å™¨çš„ç”¨æˆ·æ— æ³•æ„ŸçŸ¥ï¼Œå…³é”®ä¿¡æ¯éœ€è¦é€šè¿‡å¤šç§æ–¹å¼ä¼ è¾¾</p>
    </div>
  </div>
  <div class="issue-item">
    <div class="issue-icon">ğŸ“±</div>
    <div class="issue-content">
      <h4>æ…¢é€Ÿè¿æ¥</h4>
      <p>å¤æ‚åŠ¨ç”»å¯èƒ½åœ¨ä½æ€§èƒ½è®¾å¤‡æˆ–æ…¢é€Ÿç½‘ç»œè¿æ¥ä¸‹è¡¨ç°ä¸ä½³ï¼Œå½±å“ç”¨æˆ·äº¤äº’çš„æµç•…æ€§</p>
    </div>
  </div>
</div>

## å®ç°prefers-reduced-motionåª’ä½“æŸ¥è¯¢

`prefers-reduced-motion`æ˜¯ä¸€ä¸ªCSSåª’ä½“æŸ¥è¯¢ï¼Œå¯ä»¥æ£€æµ‹ç”¨æˆ·æ˜¯å¦åœ¨å…¶æ“ä½œç³»ç»Ÿä¸­è®¾ç½®äº†å‡å°‘åŠ¨ç”»çš„åå¥½ã€‚è¿™æ˜¯å®ç°åŠ¨ç”»æ— éšœç¢çš„åŸºç¡€å·¥å…·ã€‚

<div class="methods-comparison">
  <div class="method-card">
    <div class="method-title">åŸºæœ¬CSSå®ç°</div>
    <div class="method-desc">ä½¿ç”¨çº¯CSSå“åº”ç”¨æˆ·åå¥½</div>
    <div class="method-code">
```css
/* é»˜è®¤åŠ¨ç”»æ ·å¼ */
.animated-element {
  transition: transform 0.5s ease;
}
/* å½“ç”¨æˆ·åå¥½å‡å°‘åŠ¨ç”»æ—¶ */
@media (prefers-reduced-motion: reduce) {
  .animated-element {
    transition: none;
  }
}
```
    </div>
    <div class="method-note">é€‚ç”¨äºç®€å•çš„CSSè¿‡æ¸¡å’ŒåŠ¨ç”»</div>
  </div>
  <div class="method-card">
    <div class="method-title">GSAPåŸºç¡€å®ç°</div>
    <div class="method-desc">åŸºäºç”¨æˆ·åå¥½æ¡ä»¶æ‰§è¡ŒåŠ¨ç”»</div>
    <div class="method-code">
```js
// æ£€æµ‹ç”¨æˆ·åå¥½
      const prefersReducedMotion = window.matchMedia(
        "(prefers-reduced-motion: reduce)"
      ).matches;
// åŸºäºç”¨æˆ·åå¥½è°ƒæ•´åŠ¨ç”»
if (prefersReducedMotion) {
  // ä¸ºåå¥½å‡å°‘åŠ¨ç”»çš„ç”¨æˆ·æä¾›æ›¿ä»£ä½“éªŒ
        gsap.set(".element", { x: 100 }); // ç«‹å³è®¾ç½®æœ€ç»ˆçŠ¶æ€
} else {
  // æ­£å¸¸åŠ¨ç”»
        gsap.to(".element", { 
          x: 100, 
          duration: 1, 
          ease: "power2.out" 
        });
}
```
    </div>
    <div class="method-note">é€‚ç”¨äºç‹¬ç«‹çš„GSAPåŠ¨ç”»</div>
  </div>
  <div class="method-card highlight">
    <div class="method-title">é€šç”¨åŠ¨ç”»å‡½æ•°å°è£…</div>
    <div class="method-desc">åˆ›å»ºåŒ…å«æ— éšœç¢è€ƒé‡çš„å¤ç”¨å‡½æ•°</div>
    <div class="method-code">
```js
// åˆ›å»ºä¸€ä¸ªå°Šé‡ç”¨æˆ·åŠ¨ç”»åå¥½çš„é€šç”¨åŠ¨ç”»å‡½æ•°
function accessibleAnimate(targets, props, reducedProps) {
        const prefersReducedMotion = window.matchMedia(
          "(prefers-reduced-motion: reduce)"
        ).matches;
  if (prefersReducedMotion) {
    // ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬æˆ–å®Œå…¨ç¦ç”¨åŠ¨ç”»
    gsap.set(targets, reducedProps || props);
  } else {
    // ä½¿ç”¨å®Œæ•´åŠ¨ç”»
    gsap.to(targets, props);
  }
}
// ä½¿ç”¨
accessibleAnimate(".box", 
  { x: 100, duration: 1, ease: "power2.out" }, // æ ‡å‡†åŠ¨ç”»
  { x: 100 } // å‡å°‘åŠ¨ç”»æ—¶çš„å±æ€§
);
```
    </div>
    <div class="method-note">æ¨èç”¨äºé¡¹ç›®ä¸­çš„æ‰€æœ‰åŠ¨ç”»ï¼Œç¡®ä¿ä¸€è‡´æ€§</div>
  </div>
</div>

### ç›‘å¬ç”¨æˆ·åå¥½å˜åŒ–

<div class="problem-solution">
  <div class="problem">
    <h4>ğŸ”´ é—®é¢˜</h4>
    <p>ç”¨æˆ·å¯èƒ½åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ›´æ”¹ç³»ç»ŸåŠ¨ç”»åå¥½è®¾ç½®ï¼Œå¦‚æœä¸å“åº”è¿™äº›å˜åŒ–ï¼Œä¼šå¯¼è‡´ä¸ä¸€è‡´çš„ä½“éªŒã€‚</p>
    ```js
// ä¸å®Œæ•´çš„åšæ³•ï¼šåªåœ¨åˆå§‹åŠ è½½æ—¶æ£€æŸ¥ä¸€æ¬¡
const prefersReducedMotion = window.matchMedia(
  "(prefers-reduced-motion: reduce)"
).matches;
// å¯èƒ½ä¸å†å‡†ç¡®ï¼Œå¦‚æœç”¨æˆ·åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ›´æ”¹äº†è®¾ç½®
if (prefersReducedMotion) {
  // å‡å°‘åŠ¨ç”»...
}
```
  </div>
  <div class="solution">
    <h4>âœ… è§£å†³æ–¹æ¡ˆ</h4>
    <p>æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ï¼ŒåŠ¨æ€å“åº”ç”¨æˆ·åå¥½å˜åŒ–ã€‚</p>
    ```js
// ç›‘å¬ç”¨æˆ·åå¥½å˜åŒ–
const motionMediaQuery = window.matchMedia(
  "(prefers-reduced-motion: reduce)"
);
function updateMotionPreference() {
  const prefersReducedMotion = motionMediaQuery.matches;
  // æ›´æ–°å…¨å±€è®¾ç½®
  gsap.ticker.fps(prefersReducedMotion ? 30 : 60);
  gsap.globalTimeline.timeScale(prefersReducedMotion ? 1.5 : 1);
  // è¿˜å¯ä»¥æ›´æ–°ç‰¹å®šåŠ¨ç”»...
}
// åˆå§‹è®¾ç½®
updateMotionPreference();
// ç›‘å¬å˜åŒ–
motionMediaQuery.addEventListener("change", updateMotionPreference);
```
  </div>
</div>

## æå‡åŠ¨ç”»å¯¹æ¯”åº¦ä¸å¯è¯»æ€§

### é¿å…çº¯è§†è§‰ä¿¡æ¯ä¼ é€’

<div class="comparison-demo">
  <div class="comparison-header">
    <div class="comparison-title">è§†è§‰åé¦ˆæ— éšœç¢å¯¹æ¯”</div>
  </div>
  <div class="comparison-content">
    <div class="comparison-item">
      <div class="comparison-label">âŒ ä»…è§†è§‰åé¦ˆ</div>
      <div class="comparison-example bad-example">
        <input type="text" placeholder="é‚®ç®±åœ°å€" class="demo-input">
        <button class="demo-submit">æäº¤</button>
      </div>
      <div class="comparison-desc">
        ä»…ä½¿ç”¨æŠ–åŠ¨å’Œé¢œè‰²å˜åŒ–è¡¨ç¤ºé”™è¯¯ï¼Œå±å¹•é˜…è¯»å™¨ç”¨æˆ·æ— æ³•æ„ŸçŸ¥
      </div>
    </div>
    <div class="comparison-item">
      <div class="comparison-label">âœ… å¤šæ„Ÿå®˜åé¦ˆ</div>
      <div class="comparison-example good-example">
        <input type="text" placeholder="é‚®ç®±åœ°å€" class="demo-input">
        <button class="demo-submit">æäº¤</button>
        <div class="error-message" role="alert"></div>
      </div>
      <div class="comparison-desc">
        ç»“åˆè§†è§‰æç¤ºå’Œæ–‡æœ¬åé¦ˆï¼Œç¡®ä¿æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½ç†è§£çŠ¶æ€
      </div>
    </div>
  </div>
</div>

### ç¡®ä¿è¶³å¤Ÿçš„å¯¹æ¯”åº¦

åŠ¨ç”»è¿‡ç¨‹ä¸­çš„é¢œè‰²å˜åŒ–å¯èƒ½ä¼šå½±å“å†…å®¹çš„å¯è¯»æ€§ï¼Œå°¤å…¶æ˜¯æ–‡æœ¬å†…å®¹ã€‚ç¡®ä¿åœ¨æ•´ä¸ªåŠ¨ç”»è¿‡ç¨‹ä¸­ç»´æŒè¶³å¤Ÿçš„å¯¹æ¯”åº¦ï¼Œè®©æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½é˜…è¯»å†…å®¹ã€‚

<div class="strategy-block">
  <div class="strategy-header">
    <div class="strategy-icon">ğŸ¨</div>
    <div class="strategy-title">åŠ¨æ€å¯¹æ¯”åº¦è°ƒæ•´</div>
  </div>
  <div class="strategy-content">
    <p>åœ¨èƒŒæ™¯è‰²å˜åŒ–æ—¶åŠ¨æ€è°ƒæ•´æ–‡æœ¬é¢œè‰²ï¼Œç¡®ä¿å¯è¯»æ€§ï¼š</p>
  </div>
</div>

```js
// åŠ¨ç”»è¿‡ç¨‹ä¸­ä¿æŒæ–‡æœ¬å¯è¯»æ€§
gsap.to(".card", {
  backgroundColor: "#333",
  duration: 1,
  onUpdate: function() {
    // æ ¹æ®èƒŒæ™¯è‰²è°ƒæ•´æ–‡æœ¬é¢œè‰²
    const bgColor = gsap.getProperty(".card", "backgroundColor");
    const textColor = getLuminance(bgColor) > 0.5 ? "#000" : "#fff";
    gsap.set(".card-text", { color: textColor });
  }
});
// è®¡ç®—äº®åº¦çš„è¾…åŠ©å‡½æ•°
function getLuminance(color) {
  // ç®€åŒ–çš„äº®åº¦è®¡ç®—...
  return 0.299 * color.r + 0.587 * color.g + 0.114 * color.b;
}
```

## ç¡®ä¿å±å¹•é˜…è¯»å™¨å…¼å®¹æ€§

å±å¹•é˜…è¯»å™¨ç”¨æˆ·æ— æ³•æ„ŸçŸ¥çº¯è§†è§‰å˜åŒ–ï¼Œå› æ­¤éœ€è¦ç¡®ä¿åŠ¨ç”»å†…å®¹é€šè¿‡é€‚å½“çš„ARIAå±æ€§å’Œæ–‡æœ¬æè¿°æ¥ä¼ è¾¾ã€‚

### ä½¿ç”¨ARIAå±æ€§æ ‡æ³¨åŠ¨æ€å†…å®¹

<div class="interactive-demo">
  <div class="demo-header">
    <h4>è¿›åº¦æ¡æ— éšœç¢æ¼”ç¤º</h4>
    <div class="demo-controls">
      <button class="demo-btn start-btn">å¼€å§‹åŠ è½½</button>
      <button class="demo-btn reset-btn">é‡ç½®</button>
    </div>
  </div>
  <div class="demo-stage">
    <div class="progress-container">
      <div class="progress-track">
        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <div class="sr-progress-text">å·²å®Œæˆ 0%</div>
      <div class="progress-announcements" aria-live="polite"></div>
    </div>
    <div class="demo-info">ç‚¹å‡»"å¼€å§‹åŠ è½½"æŒ‰é’®æŸ¥çœ‹å±å¹•é˜…è¯»å™¨å‹å¥½çš„è¿›åº¦æ¡</div>
  </div>
</div>

```js
// åŠ¨æ€å†…å®¹å˜åŒ–é€šçŸ¥å±å¹•é˜…è¯»å™¨
gsap.to(".progress-bar", {
  width: "100%", 
  duration: 3,
  onUpdate: function() {
    const progress = Math.round(this.progress() * 100);
    const progressBar = document.querySelector(".progress-bar");
    // æ›´æ–°ARIAå€¼å’Œæ–‡æœ¬
    progressBar.setAttribute("aria-valuenow", progress);
    document.querySelector(".sr-progress-text").textContent = `å·²å®Œæˆ ${progress}%`;
    // åœ¨é‡è¦èŠ‚ç‚¹é€šçŸ¥å±å¹•é˜…è¯»å™¨
    if (progress === 50 || progress === 100) {
      const alertElem = document.createElement("div");
      alertElem.setAttribute("role", "status");
      alertElem.classList.add("sr-only"); // è§†è§‰ä¸Šéšè—
      alertElem.textContent = `è¿›åº¦å·²è¾¾ ${progress}%`;
      document.body.appendChild(alertElem);
      // ç¨åç§»é™¤ï¼Œé¿å…é‡å¤é€šçŸ¥
      setTimeout(() => alertElem.remove(), 1000);
    }
  }
});
```

### ä¸ºçº¯è£…é¥°æ€§åŠ¨ç”»æ·»åŠ é€‚å½“å±æ€§

<div class="strategy-block">
  <div class="strategy-header">
    <div class="strategy-icon">ğŸ­</div>
    <div class="strategy-title">è£…é¥°æ€§å…ƒç´ å¤„ç†</div>
  </div>
  <div class="strategy-content">
    <p>æ˜ç¡®æ ‡è®°çº¯è£…é¥°æ€§åŠ¨ç”»å…ƒç´ ï¼Œé¿å…å±å¹•é˜…è¯»å™¨å°è¯•è§£é‡Šå®ƒä»¬ï¼š</p>
  </div>
</div>

```html
<div class="background-animation" aria-hidden="true">
  <!-- è£…é¥°æ€§èƒŒæ™¯åŠ¨ç”»å†…å®¹ -->
</div>
<script>
  // è£…é¥°æ€§åŠ¨ç”»ä¸éœ€è¦è¢«å±å¹•é˜…è¯»å™¨ç†è§£
  gsap.to(".background-animation div", {
    y: -20,
    opacity: 0.7,
    stagger: 0.1,
    repeat: -1,
    yoyo: true
  });
</script>
```

## å‡å°‘åŠ¨é‡å’ŒåŠ¨æ€æ•ˆæœçš„ç­–ç•¥

å¯¹äºé€‰æ‹©å‡å°‘åŠ¨ç”»çš„ç”¨æˆ·ï¼Œæä¾›æ›¿ä»£æ–¹æ¡ˆéå¸¸é‡è¦ã€‚è¿™äº›æ›¿ä»£æ–¹æ¡ˆåº”è¯¥ä¿ç•™åŸºæœ¬åŠŸèƒ½ï¼ŒåŒæ—¶å‡å°‘å¯èƒ½å¯¼è‡´ä¸é€‚çš„è§†è§‰æ•ˆæœã€‚

### æä¾›æ›¿ä»£çš„ç®€åŒ–åŠ¨ç”»

<div class="options-comparison">
  <div class="option-card">
    <div class="option-title">æ ‡å‡†åŠ¨ç”»</div>
    <div class="option-desc">å®Œæ•´ä½“éªŒ</div>
    <div class="option-code">
      ```js
      gsap.to(target, {
        x: 100,
        duration: 0.8,
        ease: "elastic.out(1, 0.3)" // å¼¹æ€§æ•ˆæœ
      });
      ```
    </div>
    <div class="option-visual standard-anim">
      <div class="anim-preview"></div>
    </div>
  </div>
  <div class="option-card">
    <div class="option-title">ç®€åŒ–åŠ¨ç”»</div>
    <div class="option-desc">å‡å°‘åŠ¨ç”»ä½“éªŒ</div>
    <div class="option-code">
      ```js
      gsap.to(target, {
        x: 100,
        duration: 0.3,
        ease: "power1.out" // ç®€å•ç¼“åŠ¨
      });
      ```
    </div>
    <div class="option-visual reduced-anim">
      <div class="anim-preview"></div>
    </div>
  </div>
  <div class="option-card">
    <div class="option-title">æ— åŠ¨ç”»</div>
    <div class="option-desc">ç›´æ¥è®¾ç½®çŠ¶æ€</div>
    <div class="option-code">
      ```js
      gsap.set(target, {
        x: 100 // ç«‹å³è®¾ç½®ï¼Œæ— åŠ¨ç”»
      });
      ```
    </div>
    <div class="option-visual no-anim">
      <div class="anim-preview"></div>
    </div>
  </div>
</div>

```js
function createAnimation(target) {
  const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  if (prefersReducedMotion) {
    // ç®€åŒ–ç‰ˆæœ¬ï¼šæ— å¼¹æ€§æ•ˆæœï¼Œæ›´çŸ­çš„æŒç»­æ—¶é—´
    return gsap.to(target, {
      x: 100,
      duration: 0.3,
      ease: "power1.out" // ç®€å•ç¼“åŠ¨
    });
  } else {
    // å®Œæ•´ç‰ˆæœ¬ï¼šåŒ…å«å¼¹æ€§å’Œæ›´é•¿çš„æŒç»­æ—¶é—´
    return gsap.to(target, {
      x: 100,
      duration: 0.8,
      ease: "elastic.out(1, 0.3)" // å¼¹æ€§æ•ˆæœ
    });
  }
}
```

### å‡å°‘å¹¶ç®€åŒ–äº¤é”™åŠ¨ç”»

<div class="problem-solution">
  <div class="problem">
    <h4>ğŸ”´ é—®é¢˜</h4>
    <p>æ ‡å‡†äº¤é”™åŠ¨ç”»å¯èƒ½ä¼šå¯¼è‡´è§†è§‰è¿‡è½½ï¼Œå°¤å…¶æ˜¯å¯¹äºæœ‰è®¤çŸ¥éšœç¢æˆ–å‰åº­åŠŸèƒ½éšœç¢çš„ç”¨æˆ·ã€‚</p>
    ```js
// æ ‡å‡†äº¤é”™åŠ¨ç”»ï¼ŒåŒæ—¶æœ‰å¤šä¸ªå…ƒç´ ç§»åŠ¨
gsap.from(".card", {
  opacity: 0,
  y: 50,
  duration: 0.8,
  stagger: 0.2, // è¾ƒå¤§çš„äº¤é”™é—´éš”
  ease: "back.out(1.7)" // å¤æ‚çš„å¼¹è·³æ•ˆæœ
});
```
  </div>
  <div class="solution">
    <h4>âœ… è§£å†³æ–¹æ¡ˆ</h4>
    <p>ä¸ºåå¥½å‡å°‘åŠ¨ç”»çš„ç”¨æˆ·æä¾›ç®€åŒ–ç‰ˆæœ¬ï¼Œå‡å°‘äº¤é”™æ•ˆæœå’ŒåŠ¨æ€å˜åŒ–ã€‚</p>
    ```js
// æ ¹æ®ç”¨æˆ·åå¥½æä¾›é€‚å½“çš„åŠ¨ç”»ç‰ˆæœ¬
function animateItems(selector) {
  const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  if (prefersReducedMotion) {
    // ç®€åŒ–ï¼šå‡å°‘äº¤é”™ï¼Œä½¿ç”¨æ›´ç›´æ¥çš„åŠ¨ç”»
    gsap.to(selector, {
      opacity: 1,
      y: 0,
      duration: 0.3,
      stagger: 0.05, // æå°çš„äº¤é”™
      ease: "power1.out"
    });
  } else {
    // æ ‡å‡†ï¼šå®Œæ•´äº¤é”™å’ŒåŠ¨æ€æ•ˆæœ
    gsap.from(selector, {
      opacity: 0,
      y: 50,
      duration: 0.8,
      stagger: 0.2,
      ease: "back.out(1.7)"
    });
  }
}
```
  </div>
</div>

## æµ‹è¯•å’ŒéªŒè¯æ— éšœç¢æ€§

ç¡®ä¿ä½ çš„åŠ¨ç”»å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½å¯è®¿é—®éœ€è¦ç³»ç»Ÿæ€§çš„æµ‹è¯•å’ŒéªŒè¯ã€‚

### æ‰‹åŠ¨æµ‹è¯•æ¸…å•

<div class="checklist-container">
  <div class="checklist-title">åŠ¨ç”»æ— éšœç¢æµ‹è¯•æ¸…å•</div>
  <div class="checklist-items">
    <div class="checklist-item">
      <input type="checkbox" id="check1">
      <label for="check1">ä½¿ç”¨é”®ç›˜å¯¼èˆªæµ‹è¯•æ‰€æœ‰åŠ¨ç”»äº¤äº’</label>
    </div>
    <div class="checklist-item">
      <input type="checkbox" id="check2">
      <label for="check2">éªŒè¯æ“ä½œç³»ç»Ÿçš„å‡å°‘åŠ¨ç”»è®¾ç½®æ˜¯å¦æ­£ç¡®å“åº”</label>
    </div>
    <div class="checklist-item">
      <input type="checkbox" id="check3">
      <label for="check3">ä½¿ç”¨å±å¹•é˜…è¯»å™¨æµ‹è¯•åŠ¨æ€å†…å®¹çš„å¯è®¿é—®æ€§</label>
    </div>
    <div class="checklist-item">
      <input type="checkbox" id="check4">
      <label for="check4">æµ‹è¯•é«˜å¯¹æ¯”åº¦æ¨¡å¼ä¸‹çš„åŠ¨ç”»å¯è§æ€§</label>
    </div>
    <div class="checklist-item">
      <input type="checkbox" id="check5">
      <label for="check5">æ£€æŸ¥åŠ¨ç”»æ˜¯å¦ä½¿ç•Œé¢å…ƒç´ éš¾ä»¥èšç„¦æˆ–äº¤äº’</label>
    </div>
    <div class="checklist-item">
      <input type="checkbox" id="check6">
      <label for="check6">æµ‹è¯•åœ¨ä¸åŒè®¾å¤‡å’Œå±å¹•å°ºå¯¸ä¸Šçš„è¡¨ç°</label>
    </div>
    <div class="checklist-item">
      <input type="checkbox" id="check7">
      <label for="check7">éªŒè¯æ²¡æœ‰å¿«é€Ÿé—ªçƒçš„å†…å®¹(3Hzä»¥ä¸Š)</label>
    </div>
  </div>
</div>

### ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·è¾…åŠ©æµ‹è¯•

<div class="strategy-block">
  <div class="strategy-header">
    <div class="strategy-icon">ğŸ”</div>
    <div class="strategy-title">åŠ¨ç”»æ— éšœç¢æ£€æŸ¥å·¥å…·</div>
  </div>
  <div class="strategy-content">
    <p>åˆ›å»ºä¸€ä¸ªè¾…åŠ©å‡½æ•°æ¥æ£€æŸ¥åŠ¨ç”»é…ç½®æ˜¯å¦ç¬¦åˆæ— éšœç¢æ ‡å‡†ï¼š</p>
  </div>
</div>

```js
// ä¸€ä¸ªç®€å•çš„è¾…åŠ©å‡½æ•°ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­æ£€æŸ¥å¸¸è§çš„åŠ¨ç”»æ— éšœç¢é—®é¢˜
function checkAnimationAccessibility(animationConfig) {
  const warnings = [];
  // æ£€æŸ¥æ˜¯å¦å¤„ç†äº†å‡å°‘åŠ¨ç”»åå¥½
  if (!animationConfig.hasReducedMotionCheck) {
    warnings.push("è­¦å‘Šï¼šæœªæ£€æµ‹prefers-reduced-motionåå¥½");
  }
  // æ£€æŸ¥åŠ¨ç”»é€Ÿåº¦
  if (animationConfig.duration < 0.1) {
    warnings.push("è­¦å‘Šï¼šåŠ¨ç”»å¯èƒ½è¿‡å¿«ï¼Œè€ƒè™‘å¢åŠ æŒç»­æ—¶é—´");
  }
  // æ£€æŸ¥é—ªçƒé£é™©
  if (animationConfig.blink || (animationConfig.repeat && animationConfig.repeatDelay < 0.5)) {
    warnings.push("è­¦å‘Šï¼šæ£€æµ‹åˆ°å¯èƒ½çš„é—ªçƒæ¨¡å¼ï¼Œè¿™å¯èƒ½å¼•å‘å…‰æ•æ€§é—®é¢˜");
  }
  // è¾“å‡ºè­¦å‘Š
  if (warnings.length > 0) {
    console.group("åŠ¨ç”»æ— éšœç¢æ£€æŸ¥");
    warnings.forEach(warning => console.warn(warning));
    console.groupEnd();
  }
  return animationConfig;
}
// ä½¿ç”¨
const config = checkAnimationAccessibility({
  duration: 0.05,
  repeat: 5,
  repeatDelay: 0.1,
  hasReducedMotionCheck: false
});
```

## å®é™…é¡¹ç›®ä¸­çš„ç»¼åˆç¤ºä¾‹

<div class="strategy-block">
  <div class="strategy-header">
    <div class="strategy-icon">ğŸ“¦</div>
    <div class="strategy-title">å…¨ç«™åŠ¨ç”»æ— éšœç¢ç®¡ç†æ¨¡å—</div>
  </div>
  <div class="strategy-content">
    <p>åˆ›å»ºä¸€ä¸ªå¯å¤ç”¨çš„æ¨¡å—æ¥ç»Ÿä¸€ç®¡ç†æ•´ä¸ªç½‘ç«™çš„åŠ¨ç”»æ— éšœç¢è®¾ç½®ï¼š</p>
  </div>
</div>

```js
// å…¨ç«™åŠ¨ç”»æ— éšœç¢ç®¡ç†æ¨¡å—
const AccessibleAnimations = {
  // ç³»ç»ŸçŠ¶æ€
  state: {
    prefersReducedMotion: false,
    highContrastMode: false
  },
  // åˆå§‹åŒ–
  init() {
    // æ£€æµ‹ç”¨æˆ·åå¥½
    this.checkUserPreferences();
    // æ·»åŠ åå¥½å˜åŒ–ç›‘å¬å™¨
    this.addPreferenceListeners();
    // è®¾ç½®å…¨å±€GSAPé»˜è®¤å€¼
    this.setGlobalDefaults();
  },
  // æ£€æŸ¥ç”¨æˆ·åå¥½
  checkUserPreferences() {
    this.state.prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    this.state.highContrastMode = window.matchMedia("(-ms-high-contrast: active)").matches;
  },
  // æ·»åŠ åª’ä½“æŸ¥è¯¢ç›‘å¬å™¨
  addPreferenceListeners() {
    window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change", e => {
      this.state.prefersReducedMotion = e.matches;
      this.setGlobalDefaults();
    });
  },
  // è®¾ç½®GSAPå…¨å±€é»˜è®¤å€¼
  setGlobalDefaults() {
    if (this.state.prefersReducedMotion) {
      // å‡å°‘åŠ¨ç”»æ¨¡å¼ï¼šæ›´å¿«çš„åŠ¨ç”»ï¼Œç®€å•ç¼“åŠ¨
      gsap.defaults({
        duration: 0.3,
        ease: "power1.out",
        stagger: 0.05
      });
      // å‡æ…¢å…¨å±€æ—¶é—´è½´ä»¥ä¿æŒé¡ºç•…
      gsap.globalTimeline.timeScale(1.5);
    } else {
      // æ­£å¸¸åŠ¨ç”»æ¨¡å¼
      gsap.defaults({
        duration: 0.8,
        ease: "power2.out",
        stagger: 0.1
      });
      gsap.globalTimeline.timeScale(1);
    }
  },
  // åˆ›å»ºè€ƒè™‘æ— éšœç¢çš„åŠ¨ç”»
  animate(targets, props, reducedProps) {
    if (this.state.prefersReducedMotion) {
      // ç®€åŒ–ç‰ˆåŠ¨ç”»æˆ–ç›´æ¥è®¾ç½®æœ€ç»ˆçŠ¶æ€
      return gsap.to(targets, reducedProps || {
        ...props,
        duration: Math.min(props.duration * 0.6 || 0.3, 0.3),
        ease: "power1.out",
        stagger: props.stagger ? Math.min(props.stagger * 0.5, 0.05) : 0
      });
    } else {
      // æ­£å¸¸åŠ¨ç”»
      return gsap.to(targets, props);
    }
  },
  // æ³¨å†Œæ— éšœç¢åŠŸèƒ½æ¨¡å—
  registerModule(name, moduleConfig) {
    // å…è®¸æ·»åŠ ç‰¹å®šåŠŸèƒ½æ¨¡å—
    this[name] = moduleConfig;
    // åˆå§‹åŒ–æ¨¡å—
    if (moduleConfig.init) {
      moduleConfig.init(this.state);
    }
  }
};
// åˆå§‹åŒ–
AccessibleAnimations.init();
// ä½¿ç”¨
AccessibleAnimations.animate(".hero-elements", {
  y: 0,
  opacity: 1,
  duration: 1,
  stagger: 0.2,
  ease: "back.out"
}, {
  // å‡å°‘åŠ¨ç”»æ—¶çš„ç®€åŒ–å±æ€§
  y: 0,
  opacity: 1,
  duration: 0.3,
  stagger: 0.05,
  ease: "power1.out"
});
```

## å†³ç­–æŒ‡å—ï¼šæ— éšœç¢åŠ¨ç”»ç­–ç•¥é€‰æ‹©

<div class="decision-guide">
  <table>
    <thead>
      <tr>
        <th>åœºæ™¯</th>
        <th>&lt;span&gt;æ¨èç­–ç•¥&lt;/span&gt;</th>
        <th>å®ç°æ–¹å¼</th>
        <th>&lt;span&gt;æ³¨æ„äº‹é¡¹&lt;/span&gt;</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>è£…é¥°æ€§èƒŒæ™¯åŠ¨ç”»</td>
        <td>å®Œå…¨ç¦ç”¨</td>
        <td>åœ¨reduced-motionæ¨¡å¼ä¸‹ä½¿ç”¨gsap.setæˆ–ä¸åˆ›å»ºåŠ¨ç”»</td>
        <td>æ ‡è®°ä¸ºaria-hidden=&quot;true&quot;</td>
      </tr>
      <tr>
        <td>ç•Œé¢åé¦ˆåŠ¨ç”»</td>
        <td>ç®€åŒ–ç‰ˆæœ¬</td>
        <td>å‡å°‘æŒç»­æ—¶é—´ï¼Œç®€åŒ–ç¼“åŠ¨å‡½æ•°</td>
        <td>ç¡®ä¿åé¦ˆæœ‰æ–‡æœ¬/å¬è§‰æ›¿ä»£æ–¹æ¡ˆ</td>
      </tr>
      <tr>
        <td>é¡µé¢è½¬åœºåŠ¨ç”»</td>
        <td>ä¿ç•™ä½†ç®€åŒ–</td>
        <td>æ›´ç›´æ¥çš„è¿‡æ¸¡ï¼Œå‡å°‘å¤æ‚åº¦</td>
        <td>é¿å…æ–¹å‘æ”¹å˜å’Œå¤§å¹…åº¦ç§»åŠ¨</td>
      </tr>
      <tr>
        <td>è¿›åº¦æŒ‡ç¤ºå™¨</td>
        <td>ä¿ç•™ä½†æ·»åŠ è¾…åŠ©</td>
        <td>æ­£å¸¸åŠ¨ç”» &plus; ARIAæ ‡è®°</td>
        <td>ä½¿ç”¨aria-liveåŒºåŸŸé€šçŸ¥è¿›åº¦å˜åŒ–</td>
      </tr>
      <tr>
        <td>å†…å®¹åŠ è½½åŠ¨ç”»</td>
        <td>å¿«é€Ÿç‰ˆæœ¬</td>
        <td>å‡å°‘staggerå’ŒæŒç»­æ—¶é—´</td>
        <td>ç¡®ä¿å†…å®¹å¯å¿«é€Ÿè®¿é—®ï¼Œä¸è¢«åŠ¨ç”»å»¶è¿Ÿ</td>
      </tr>
      <tr>
        <td>æ‚¬åœ/èšç„¦çŠ¶æ€</td>
        <td>ç®€åŒ–å˜åŒ–</td>
        <td>å‡å°‘ç§»åŠ¨ï¼Œä¿ç•™é¢œè‰²å˜åŒ–</td>
        <td>ä¿æŒçŠ¶æ€æ¸…æ™°å¯è¾¨è¯†</td>
      </tr>
    </tbody>
  </table>
</div>

## æœ€ä½³å®è·µæ±‡æ€»

<div class="best-practices">
  <div class="practice-item">
    <div class="practice-icon">ğŸ”„</div>
    <div class="practice-content">
      <h4>å“åº”ç”¨æˆ·åå¥½</h4>
      <p>å§‹ç»ˆå“åº”<code>prefers-reduced-motion</code>åª’ä½“æŸ¥è¯¢ï¼Œå°Šé‡ç”¨æˆ·ç³»ç»Ÿè®¾ç½®å’Œåå¥½ï¼Œå…è®¸ç”¨æˆ·æ§åˆ¶ä»–ä»¬çš„ä½“éªŒã€‚</p>
    </div>
  </div>
  <div class="practice-item">
    <div class="practice-icon">ğŸ”„</div>
    <div class="practice-content">
      <h4>æä¾›æ›¿ä»£æ–¹æ¡ˆ</h4>
      <p>ä¸ºæ¯ä¸ªåŠ¨ç”»è®¾è®¡ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬ï¼Œé’ˆå¯¹ä¸åŒç”¨æˆ·éœ€æ±‚æä¾›ä¸åŒçº§åˆ«çš„åŠ¨ç”»ä½“éªŒï¼Œè€Œä¸æ˜¯ç®€å•åœ°å…¨éƒ¨ç¦ç”¨ã€‚</p>
    </div>
  </div>
  <div class="practice-item">
    <div class="practice-icon">ğŸ“¢</div>
    <div class="practice-content">
      <h4>å¤šæ¸ é“ä¿¡æ¯ä¼ é€’</h4>
      <p>é¿å…çº¯è§†è§‰ä¿¡æ¯ä¼ é€’ï¼Œç¡®ä¿æ‰€æœ‰é‡è¦ä¿¡æ¯éƒ½æœ‰æ–‡æœ¬æˆ–å¬è§‰æ›¿ä»£æ–¹æ¡ˆï¼Œä½¿ç”¨ARIAå±æ€§å¢å¼ºå±å¹•é˜…è¯»å™¨ä½“éªŒã€‚</p>
    </div>
  </div>
  <div class="practice-item">
    <div class="practice-icon">ğŸ§ª</div>
    <div class="practice-content">
      <h4>å¤šæ¡ä»¶æµ‹è¯•</h4>
      <p>åœ¨å„ç§æ¡ä»¶ä¸‹æµ‹è¯•ä½ çš„åŠ¨ç”»ï¼ŒåŒ…æ‹¬ä¸åŒçš„è¾…åŠ©æŠ€æœ¯ã€è®¾å¤‡å’Œç”¨æˆ·è®¾ç½®ï¼Œç¡®ä¿æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½è·å¾—è‰¯å¥½ä½“éªŒã€‚</p>
    </div>
  </div>
  <div class="practice-item">
    <div class="practice-icon">ğŸ”</div>
    <div class="practice-content">
      <h4>é¿å…é—ªçƒå†…å®¹</h4>
      <p>æ§åˆ¶é—ªçƒï¼Œé¿å…æ¯ç§’è¶…è¿‡3æ¬¡çš„å¿«é€Ÿã€é«˜å¯¹æ¯”åº¦çš„é¢œè‰²å˜åŒ–ï¼Œé™ä½è§¦å‘å…‰æ•æ€§ç™«ç—«çš„é£é™©ã€‚</p>
    </div>
  </div>
  <div class="practice-item">
    <div class="practice-icon">ğŸ®</div>
    <div class="practice-content">
      <h4>æä¾›ç”¨æˆ·æ§åˆ¶</h4>
      <p>é™¤äº†å“åº”ç³»ç»Ÿåå¥½å¤–ï¼Œè€ƒè™‘æä¾›æ˜¾å¼çš„åŠ¨ç”»æ§åˆ¶é€‰é¡¹ï¼Œè®©ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´åŠ¨ç”»è®¾ç½®ã€‚</p>
    </div>
  </div>
</div>

:::warning é‡è¦æç¤º
æ— éšœç¢è®¾è®¡ä¸ä»…æ˜¯ä¸ºç‰¹å®šç”¨æˆ·ç¾¤ä½“æœåŠ¡ï¼Œè€Œæ˜¯é€šè¿‡åˆ›å»ºæ›´çµæ´»ã€æ›´è€ƒè™‘ç”¨æˆ·éœ€æ±‚çš„ç•Œé¢ï¼Œæå‡æ‰€æœ‰ç”¨æˆ·çš„ä½“éªŒã€‚å°†æ— éšœç¢è€ƒé‡èå…¥è®¾è®¡æµç¨‹çš„èµ·å§‹é˜¶æ®µï¼Œè€Œä¸æ˜¯ä½œä¸ºäº‹åçš„ä¿®è¡¥ã€‚
:::

é€šè¿‡å®æ–½è¿™äº›æ— éšœç¢è®¾è®¡åŸåˆ™ï¼Œä½ å¯ä»¥åˆ›å»ºæ—¢ç¾è§‚åˆåŒ…å®¹çš„åŠ¨ç”»ä½“éªŒï¼Œç¡®ä¿ä½ çš„å†…å®¹èƒ½å¤Ÿè¢«å°½å¯èƒ½å¹¿æ³›çš„å—ä¼—æ‰€æ¬£èµå’Œä½¿ç”¨ã€‚ 

<style>
/* æ¦‚å¿µå¯è§†åŒ–æ ·å¼ */
.concept-visual {
  margin: 30px 0;
  padding: 15px;
  background: var(--vp-c-bg-soft);
  border-radius: 8px;
}

.a11y-comparison {
  position: relative;
}

.experience-row {
  margin-bottom: 20px;
}

.experience-title {
  font-weight: bold;
  margin-bottom: 10px;
  font-size: 16px;
  color: var(--vp-c-text-1);
}

.experience-demo {
  height: 120px;
  background: #2c3e50;
  border-radius: 6px;
  padding: 10px;
  margin-bottom: 10px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-around;
}

.demo-element {
  padding: 15px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 4px;
  color: #2c3e50;
  font-weight: bold;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.bouncing-element {
  animation: bounce 2s infinite;
}

.spinning-element {
  animation: spin 3s infinite;
}

.fading-elements span {
  display: inline-block;
  margin: 0 5px;
  animation: fade 1.5s infinite;
  animation-delay: calc(var(--i, 0) * 0.5s);
}

.fading-elements span:nth-child(1) { --i: 0; }
.fading-elements span:nth-child(2) { --i: 1; }
.fading-elements span:nth-child(3) { --i: 2; }

.experience-demo.reduced .demo-element {
  transition: transform 0.3s ease, opacity 0.3s ease;
}

.reduced-element {
  transform: translateY(0);
}

.static-element {
  /* æ— åŠ¨ç”» */
}

.simplified-elements span {
  display: inline-block;
  margin: 0 5px;
}

.experience-desc {
  font-size: 14px;
  color: var(--vp-c-text-2);
}

.visual-caption {
  text-align: center;
  font-style: italic;
  color: var(--vp-c-text-2);
  font-size: 14px;
  margin-top: 15px;
}

/* ä¼˜åŠ¿ç½‘æ ¼ */
.benefits-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 20px;
  margin: 30px 0;
}

.benefit-card {
  background: var(--vp-c-bg-soft);
  border-radius: 8px;
  padding: 15px;
  transition: transform 0.2s;
  border-left: 3px solid var(--vp-c-brand);
}

.benefit-card:hover {
  transform: translateY(-3px);
}

.benefit-icon {
  font-size: 24px;
  margin-bottom: 10px;
}

.benefit-title {
  font-weight: bold;
  margin-bottom: 8px;
}

.benefit-desc {
  font-size: 14px;
  color: var(--vp-c-text-2);
}

/* é—®é¢˜æ¦‚è§ˆ */
.issues-overview {
  margin: 20px 0;
}

.issue-item {
  display: flex;
  margin-bottom: 15px;
  background: var(--vp-c-bg-soft);
  border-radius: 8px;
  padding: 15px;
  transition: transform 0.2s;
}

.issue-item:hover {
  transform: translateX(5px);
}

.issue-icon {
  font-size: 24px;
  margin-right: 15px;
  display: flex;
  align-items: center;
}

.issue-content {
  flex: 1;
}

.issue-content h4 {
  margin: 0 0 8px 0;
}

.issue-content p {
  margin: 0;
  font-size: 14px;
  color: var(--vp-c-text-2);
}

/* æ–¹æ³•æ¯”è¾ƒå¡ç‰‡ */
.methods-comparison {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
  margin: 30px 0;
}

.method-card {
  border: 1px solid var(--vp-c-divider);
  border-radius: 8px;
  background: var(--vp-c-bg-soft);
  overflow: hidden;
  transition: transform 0.2s, box-shadow 0.2s;
}

.method-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.method-card.highlight {
  border-color: var(--vp-c-brand);
  background: rgba(66, 185, 131, 0.05);
}

.method-title {
  background: var(--vp-c-brand);
  color: white;
  padding: 10px 15px;
  font-weight: bold;
  font-size: 16px;
}

.method-desc {
  padding: 5px 15px;
  font-style: italic;
  font-size: 14px;
  border-bottom: 1px dashed var(--vp-c-divider);
}

.method-code {
  padding: 0 15px;
  margin: 10px 0;
}

.method-note {
  padding: 10px 15px;
  font-size: 12px;
  color: var(--vp-c-text-2);
  font-style: italic;
  border-top: 1px dashed var(--vp-c-divider);
}

/* ç­–ç•¥å— */
.strategy-block {
  margin: 20px 0;
  background: var(--vp-c-bg-soft);
  border-radius: 8px;
  overflow: hidden;
}

.strategy-header {
  background: var(--vp-c-brand-dimm);
  padding: 10px 15px;
  display: flex;
  align-items: center;
}

.strategy-icon {
  font-size: 20px;
  margin-right: 10px;
}

.strategy-title {
  font-weight: bold;
}

.strategy-content {
  padding: 15px;
}

/* é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ */
.problem-solution {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin: 25px 0;
}

@media (max-width: 768px) {
  .problem-solution {
    grid-template-columns: 1fr;
  }
}

.problem, .solution {
  background: var(--vp-c-bg-soft);
  border-radius: 8px;
  padding: 15px;
}

.problem {
  border-left: 4px solid #e74c3c;
}

.solution {
  border-left: 4px solid #2ecc71;
}

.problem h4, .solution h4 {
  margin-top: 0;
}

/* æ¯”è¾ƒæ¼”ç¤º */
.comparison-demo {
  margin: 20px 0;
  border: 1px solid var(--vp-c-divider);
  border-radius: 8px;
  overflow: hidden;
}

.comparison-header {
  background: var(--vp-c-bg-soft);
  padding: 10px 15px;
}

.comparison-title {
  font-weight: bold;
  margin: 0;
}

.comparison-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2px;
  background: var(--vp-c-divider);
}

@media (max-width: 640px) {
  .comparison-content {
    grid-template-columns: 1fr;
  }
}

.comparison-item {
  background: var(--vp-c-bg);
  padding: 15px;
}

.comparison-label {
  font-weight: bold;
  margin-bottom: 10px;
}

.comparison-example {
  margin: 15px 0;
  padding: 15px;
  background: var(--vp-c-bg-soft);
  border-radius: 4px;
  position: relative;
}

.demo-input {
  width: 100%;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
  margin-bottom: 10px;
}

.demo-submit {
  padding: 8px 15px;
  background: var(--vp-c-brand);
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.error-message {
  color: #e74c3c;
  margin-top: 10px;
  font-size: 14px;
}

.comparison-desc {
  font-size: 13px;
  color: var(--vp-c-text-2);
  margin-top: 10px;
}

/* äº¤äº’æ¼”ç¤ºåŒºåŸŸ */
.interactive-demo {
  margin: 30px 0;
  border: 1px solid var(--vp-c-divider);
  border-radius: 8px;
  overflow: hidden;
}

.demo-header {
  background: var(--vp-c-bg-soft);
  padding: 10px 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.demo-header h4 {
  margin: 0;
}

.demo-controls {
  display: flex;
  gap: 10px;
}

.demo-btn {
  padding: 6px 12px;
  border: none;
  border-radius: 4px;
  background: var(--vp-c-brand);
  color: white;
  cursor: pointer;
  font-size: 14px;
}

.demo-btn:hover {
  background: var(--vp-c-brand-dark);
}

.demo-stage {
  height: 200px;
  background: var(--vp-c-bg-mute);
  position: relative;
  padding: 20px;
}

.progress-container {
  width: 80%;
  margin: 0 auto;
  padding-top: 60px;
}

.progress-track {
  height: 20px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 10px;
  overflow: hidden;
  margin-bottom: 10px;
}

.progress-bar {
  height: 100%;
  width: 0%;
  background: var(--vp-c-brand);
  border-radius: 10px;
}

.sr-progress-text {
  text-align: center;
  margin-top: 10px;
  font-size: 14px;
}

.progress-announcements {
  position: absolute;
  left: -9999px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

.demo-info {
  position: absolute;
  bottom: 20px;
  width: calc(100% - 40px);
  text-align: center;
  font-style: italic;
  color: var(--vp-c-text-2);
}

/* é€‰é¡¹æ¯”è¾ƒå¡ç‰‡ */
.options-comparison {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 20px;
  margin: 30px 0;
}

.option-card {
  border: 1px solid var(--vp-c-divider);
  border-radius: 8px;
  background: var(--vp-c-bg-soft);
  overflow: hidden;
  transition: transform 0.2s, box-shadow 0.2s;
}

.option-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.option-title {
  background: var(--vp-c-brand);
  color: white;
  padding: 10px 15px;
  font-weight: bold;
  font-size: 16px;
}

.option-desc {
  padding: 5px 15px;
  font-style: italic;
  font-size: 14px;
  border-bottom: 1px dashed var(--vp-c-divider);
}

.option-code {
  padding: 0 15px;
  margin: 10px 0;
}

.option-visual {
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 15px 15px;
}

.anim-preview {
  width: 30px;
  height: 30px;
  background: var(--vp-c-brand);
  border-radius: 4px;
}

/* æµ‹è¯•æ¸…å• */
.checklist-container {
  background: var(--vp-c-bg-soft);
  border-radius: 8px;
  padding: 15px;
  margin: 20px 0;
}

.checklist-title {
  font-weight: bold;
  margin-bottom: 15px;
  font-size: 16px;
}

.checklist-items {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 10px;
}

.checklist-item {
  display: flex;
  align-items: center;
}

.checklist-item input[type="checkbox"] {
  margin-right: 10px;
}

/* å†³ç­–æŒ‡å—è¡¨æ ¼ */
.decision-guide {
  margin: 30px 0;
  overflow-x: auto;
}

.decision-guide table {
  width: 100%;
  border-collapse: collapse;
}

.decision-guide th, .decision-guide td {
  padding: 12px 15px;
  border: 1px solid var(--vp-c-divider);
}

.decision-guide th {
  background: var(--vp-c-bg-soft);
  font-weight: bold;
  text-align: left;
}

.decision-guide tr:nth-child(even) {
  background: var(--vp-c-bg-soft);
}

/* æœ€ä½³å®è·µ */
.best-practices {
  margin: 30px 0;
}

.practice-item {
  display: flex;
  margin-bottom: 20px;
}

.practice-icon {
  font-size: 24px;
  margin-right: 15px;
  display: flex;
  align-items: center;
}

.practice-content {
  flex: 1;
}

.practice-content h4 {
  margin: 0 0 10px 0;
}

.practice-content p {
  margin: 0;
  color: var(--vp-c-text-2);
}

/* åŠ¨ç”» */
@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-20px); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes fade {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // GSAPåŠ è½½æ£€æŸ¥
  function ensureGSAPLoaded(callback, maxRetries = 5, retryInterval = 200) {
    let retries = 0;
    
    function checkGSAP() {
      if (typeof gsap !== 'undefined') {
        callback();
        return true;
      }
      
      retries++;
      if (retries < maxRetries) {
        setTimeout(checkGSAP, retryInterval);
      } else {
        console.warn('GSAPæœªèƒ½åŠ è½½ï¼ŒåŠ¨ç”»åŠŸèƒ½å¯èƒ½ä¸å¯ç”¨');
        return false;
      }
    }
    
    return checkGSAP();
  }

  // åˆå§‹åŒ–æ‰€æœ‰åŠ¨ç”»
  ensureGSAPLoaded(() => {
  // è¡¨å•æ— éšœç¢æ¼”ç¤º
  const badSubmitBtn = document.querySelector('.bad-example .demo-submit');
  const goodSubmitBtn = document.querySelector('.good-example .demo-submit');
  const badInput = document.querySelector('.bad-example .demo-input');
  const goodInput = document.querySelector('.good-example .demo-input');
  const errorMessage = document.querySelector('.error-message');
  
    if (badSubmitBtn && goodSubmitBtn && badInput && goodInput && errorMessage) {
    // åä¾‹å­ - åªæœ‰è§†è§‰åé¦ˆ
      badSubmitBtn.addEventListener('click', (e) => {
        e.preventDefault(); // é˜²æ­¢è¡¨å•æäº¤è·³è½¬
      gsap.to(badInput, { 
        borderColor: "red",
        x: [-5, 5, -3, 3, 0],
        duration: 0.5
      });
    });
    
    // å¥½ä¾‹å­ - åŒ…å«è§†è§‰å’Œå±å¹•é˜…è¯»å™¨åé¦ˆ
      goodSubmitBtn.addEventListener('click', (e) => {
        e.preventDefault(); // é˜²æ­¢è¡¨å•æäº¤è·³è½¬
      gsap.to(goodInput, { 
        borderColor: "red",
        x: [-5, 5, -3, 3, 0],
        duration: 0.5,
        onStart: () => {
          errorMessage.textContent = "è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€";
        }
      });
    });
  }
  
  // è¿›åº¦æ¡æ— éšœç¢æ¼”ç¤º
  const startBtn = document.querySelector('.start-btn');
  const resetProgressBtn = document.querySelector('.interactive-demo .reset-btn');
  const progressBar = document.querySelector('.progress-bar');
  const srProgressText = document.querySelector('.sr-progress-text');
  const announcements = document.querySelector('.progress-announcements');
  
    if (startBtn && resetProgressBtn && progressBar && srProgressText && announcements) {
    // é‡ç½®è¿›åº¦æ¡
      resetProgressBtn.addEventListener('click', (e) => {
        e.preventDefault();
      gsap.killTweensOf(progressBar);
      gsap.set(progressBar, { width: "0%" });
      srProgressText.textContent = "å·²å®Œæˆ 0%";
      progressBar.setAttribute("aria-valuenow", 0);
      announcements.textContent = "";
    });
    
    // å¼€å§‹è¿›åº¦åŠ¨ç”»
      startBtn.addEventListener('click', (e) => {
        e.preventDefault();
      gsap.to(progressBar, {
        width: "100%", 
        duration: 3,
        onUpdate: function() {
          const progress = Math.round(this.progress() * 100);
          
          // æ›´æ–°ARIAå€¼å’Œæ–‡æœ¬
          progressBar.setAttribute("aria-valuenow", progress);
          srProgressText.textContent = `å·²å®Œæˆ ${progress}%`;
          
          // åœ¨é‡è¦èŠ‚ç‚¹é€šçŸ¥å±å¹•é˜…è¯»å™¨
          if (progress === 50 || progress === 100) {
            announcements.textContent = `è¿›åº¦å·²è¾¾ ${progress}%`;
            
            // æ¸…é™¤é€šçŸ¥
            setTimeout(() => {
              if (announcements.textContent === `è¿›åº¦å·²è¾¾ ${progress}%`) {
                announcements.textContent = "";
              }
            }, 1000);
          }
        }
      });
    });
  }
  
  // ä¸åŒåŠ¨ç”»é€‰é¡¹çš„é¢„è§ˆ
  const standardPreview = document.querySelector('.standard-anim .anim-preview');
  const reducedPreview = document.querySelector('.reduced-anim .anim-preview');
  const noAnimPreview = document.querySelector('.no-anim .anim-preview');
  
    if (standardPreview && reducedPreview && noAnimPreview) {
      // åˆ›å»ºMutationObserveræ¥ç›‘è§†DOMå˜åŒ–
      const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          if (mutation.type === 'childList' || mutation.type === 'attributes') {
            initAnimations();
          }
        });
      });
      
      // å¼€å§‹è§‚å¯Ÿ
      observer.observe(document.body, { 
        childList: true, 
        subtree: true,
        attributes: true
      });
      
      function initAnimations() {
    // æ ‡å‡†åŠ¨ç”»
    function playStandardAnim() {
      gsap.fromTo(standardPreview, 
        { x: -50 },
        { 
          x: 50, 
          duration: 0.8,
          ease: "elastic.out(1, 0.3)",
          yoyo: true, 
          repeat: 1,
          onComplete: () => {
            setTimeout(playStandardAnim, 1000);
          }
        }
      );
    }
    
    // ç®€åŒ–åŠ¨ç”»
    function playReducedAnim() {
      gsap.fromTo(reducedPreview, 
        { x: -30 },
        { 
          x: 30, 
          duration: 0.3,
          ease: "power1.out",
          yoyo: true, 
          repeat: 1,
          onComplete: () => {
            setTimeout(playReducedAnim, 1000);
          }
        }
      );
    }
    
    // æ— åŠ¨ç”»
    gsap.set(noAnimPreview, { x: 0 });
    
    // å¯åŠ¨åŠ¨ç”»é¢„è§ˆ
    playStandardAnim();
    playReducedAnim();
      }
      
      // åˆå§‹åŒ–åŠ¨ç”»
      initAnimations();
  }
  });
});
</script> 