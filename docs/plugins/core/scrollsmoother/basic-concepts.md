---
title: 基本概念与工作原理
---

# 基本概念与工作原理

ScrollSmoother的核心原理是通过创建两个主要元素来实现平滑滚动：一个包装器(wrapper)和一个内容容器(content)。插件会拦截浏览器的原生滚动事件，然后通过GSAP动画以平滑的方式更新内容容器的位置，从而实现平滑滚动效果。

## 工作原理详解

1. **双层结构**：
   - **包装器(Wrapper)**：保持固定高度，创建滚动条
   - **内容容器(Content)**：包含实际内容，通过GSAP动画移动

2. **滚动拦截**：
   当用户滚动时，ScrollSmoother会：
   - 捕获原生滚动事件
   - 计算理想的滚动位置
   - 使用GSAP创建平滑动画过渡到目标位置

3. **虚拟滚动位置**：
   - ScrollSmoother维护一个虚拟滚动位置
   - 通过`scrollTop()`方法可以获取或设置当前位置
   - 浏览器的实际滚动条显示位置与内容容器的视觉位置保持同步

4. **与ScrollTrigger集成**：
   - 无缝集成GSAP的ScrollTrigger插件
   - 自动调整ScrollTrigger的相关计算，确保动画正常触发

## 工作流程图解

```
┌─────────────────────────┐
│       User Scroll       │
└───────────┬─────────────┘
            ▼
┌─────────────────────────┐
│  ScrollSmoother 拦截   │
└───────────┬─────────────┘
            ▼
┌─────────────────────────┐
│   计算目标滚动位置      │
└───────────┬─────────────┘
            ▼
┌─────────────────────────┐
│ GSAP动画平滑过渡到目标位置 │
└───────────┬─────────────┘
            ▼
┌─────────────────────────┐
│  更新滚动相关事件和状态  │
└─────────────────────────┘
``` 